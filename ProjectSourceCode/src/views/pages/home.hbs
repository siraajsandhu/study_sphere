<div class="container-fluid">
  <div class="container-fluid w-75">
    <div id="carouselExampleAutoplaying" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="..." class="d-block w-100" alt="..."><!-- Add images from AWS -->
        </div>
        <div class="carousel-item">
          <img src="..." class="d-block w-100" alt="..."><!-- Add images from AWS -->
        </div>
        <div class="carousel-item">
          <img src="..." class="d-block w-100" alt="..."> <!-- Add images from AWS -->
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>

    <h3 class="mt-3">Find a Class</h3>
    {{> search}}

    <h3 class="mt-3"><small class="text-muted h5">Or, Create Class</h3>
    {{> message}}
    <form id="create_class_form" hidden="true" class="w-100 d-flex flex-column gap-1" method="POST" action="/">
      <div class="row align-items-center">
        <label for="password" class="col-sm-4 col-form-label">Class Name</label>
        <div class="col-sm-8">
          <div class="input-group">
            <input required pattern="^[A-Z]{4}$" name="class_dept" class="form-control" type="text" placeholder='Department (e.g. CSCI)'/>
            <input required pattern="^[0-9]{4}$" name="class_num" class="form-control" type="text" placeholder="Course Number (e.g. 1234)"/>
          </div>
        </div>
      </div>
      <div class="row">
        <label for="password" class="col-sm-4 col-form-label">Class Description</label>
        <div class="col-sm-8">
          <textarea required name="class_desc" class="form-control" placeholder="What is the course about?"></textarea>
        </div>
      </div>
      
      <div class="d-flex justify-content-end">
        <input type="submit" class="btn btn-primary" style="background-color: #7851a9; text-color: #ffff; border: #7851a9" value="Create Class">
      </div>
    </form>

    <h3 class="mt-3">Popular Classes</h3>
    <div class="container-fluid saved mb-3">
            <div class="row row-cols-3">
                {{#each classes}}
                    <div class="col mb-2 p-0 pe-2">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title">{{this.class_name}}</h5>
                                <p class="card-text">{{this.class_desc}}</p>
                            </div>
                            <div class="card-footer">
                                <form action="/profile/classes", method="POST">
                                    <input type="hidden" value="{{this.class_name}}" name="className"/>
                                    <input type="hidden" value="{{this.class_id}}" name="classId"/>
                                    <a href="/class/{{this.class_id}}" class="btn btn-primary" style="border: none; background-color: #ffffff" role="button">View Questions</a>
                                    {{#if user}}
                                      <input type="submit" class="btn btn-outline-secondary" value="Join"/>
                                    {{else}}
                                      <input disabled type="submit" class="btn btn-outline-secondary" value="Join"/>
                                    {{/if}}
                                </form>
                            </div>
                        </div>
                    </div>
                {{/each}}
            </div>
    <script>
      function handleResult(result) {
        const td = document.createElement('td');
        const a = document.createElement('a');
        a.href = `/class/${result.class_id}`;
        a.textContent = result.class_name;
        const small = document.createElement('small');
        small.textContent = 'Jump to ';
        small.classList.add('text-muted', 'fst-italic');
        td.appendChild(small);
        td.appendChild(a);
        return td;
      }
    </script>
  </div>
</div>
{{!-- create class form --}}
{{!-- <div class="mb-3" id="create_class_form" hidden="true">
    <label for="class_name" class="form-label">Class Name</label>
    <input type="text" class="form-control" id="class_name" name="class">
    <br>
    <button id="create_class_submit_button" type="submit" action="/createClass" method="GET">Create Class</button> <button id="cancel" onclick="create_class_form.hidden=true">Cancel</button> --}}
{{!-- </div> --}}

{{!-- {{#if username}} --}}
{{!-- <button id="create_class_button" type="button" align="left" onclick="create_class_form.hidden=false">Create Class</button> --}}
{{!-- {{/if}} --}}
{{!-- </body> --}}
